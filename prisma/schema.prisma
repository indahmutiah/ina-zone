generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Province {
  id        Int      @id @default(autoincrement())
  code      Int
  slug      String   @db.VarChar(255)
  name      String   @db.VarChar(255)
  cities    City[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model City {
  id         Int        @id @default(autoincrement())
  code       Int
  slug       String     @db.VarChar(255)
  name       String     @db.VarChar(255)
  provinceId Int
  province   Province   @relation(fields: [provinceId], references: [id])
  districts  District[]
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
}

model District {
  id           Int           @id @default(autoincrement())
  code         Int
  slug         String        @db.VarChar(255)
  name         String        @db.VarChar(255)
  cityId       Int
  city         City          @relation(fields: [cityId], references: [id])
  subdistricts Subdistrict[]
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
}

model Subdistrict {
  id         Int      @id @default(autoincrement())
  code       Int
  slug       String   @db.VarChar(255)
  name       String   @db.VarChar(255)
  districtId Int
  district   District @relation(fields: [districtId], references: [id])
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}
